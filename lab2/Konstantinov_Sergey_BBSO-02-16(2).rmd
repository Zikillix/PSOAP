---
title: "Лабораторная работа №2. Исследование сетевых параметров публичных DNS серверов"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
### *Цель работы:*

  Проанализировать сетевые параметры публичных DNS серверов, сделать мотивированный вывод о предпочтительных серверах.
  
-------------------------------------------------------------------------------------------------------------------------------

### *Исходные данные:*

|     Устройство  | Операционная система | 
| --------------- | -------------------- |
|       HP        |  Windows 10 x64      |

-------------------------------------------------------------------------------------------------------------------------------

### *Используемое ПО:*

  1. Rstudio IDE
  2. Traceroute/tracert
  3. Ping
  4. 2ip

-------------------------------------------------------------------------------------------------------------------------------

### *Исследуемые провайдеры DNS*

  1. Google Public DNS
  2. Cloudflare DNS
  3. OpenDNS
  4. MGTS
  
-------------------------------------------------------------------------------------------------------------------------------

### *Варианты решения задачи*

  1. Использовать утилиту tracert/traceroute
  2. Использовать ручной поиск, без утилит

-------------------------------------------------------------------------------------------------------------------------------

### *Общий план выполнения*

Для выполнения данной задачи буду использовать первый вариант решения.

##### 1. По исследуемым серверам собрать следующие данные:

  1.1.Маршрут
  
  1.2.Местоположение каждого узла маршрута к DNS-серверу
  
  1.3.Организацию, владеющую каждым узлом маршрута к DNS-серверу
  
  1.4.Среднюю RTT (round trip time) к DNS-серверу
  
##### 2. Выделить те узлы маршрута, которые вносят наибольшую временную задержку при передаче
##### 3. Сравнить сетевые параметры DNS серверов

-------------------------------------------------------------------------------------------------------------------------------

## Ход работы

### *1.Google Public DNS*
#### Маршрут:
```
C:\Users\Zikillix>tracert 8.8.8.8

Трассировка маршрута к dns.google [8.8.8.8]
с максимальным числом прыжков 30:
  1    <1 мс    <1 мс    <1 мс  dlinkrouter.beeline [192.168.0.1]
  2     1 ms     1 ms     1 ms  85.249.60.1
  3     *        *        *     Превышен интервал ожидания для запроса.
  4     2 ms     2 ms     2 ms  m9-crs-2-be8.corbina.net [195.14.62.86]
  5     3 ms     2 ms     2 ms  m9-br2-be5.corbina.net [195.14.62.49]
  6     6 ms     8 ms     2 ms  72.14.198.182
  7     2 ms     2 ms     2 ms  108.170.250.51
  8    15 ms    15 ms    15 ms  216.239.50.44
  9    17 ms    17 ms    27 ms  216.239.43.20
 10    18 ms    18 ms    18 ms  142.250.56.217
 11     *        *        *     Превышен интервал ожидания для запроса.
 12     *        *        *     Превышен интервал ожидания для запроса.
 13     *        *        *     Превышен интервал ожидания для запроса.
 14     *        *        *     Превышен интервал ожидания для запроса.
 15     *        *        *     Превышен интервал ожидания для запроса.
 16     *        *        *     Превышен интервал ожидания для запроса.
 17     *        *        *     Превышен интервал ожидания для запроса.
 18     *        *        *     Превышен интервал ожидания для запроса.
 19     *        *        *     Превышен интервал ожидания для запроса.
 20    17 ms    17 ms    17 ms  dns.google [8.8.8.8]
Трассировка завершена.

```
#### Среднее RTT:
```
ping 8.8.8.8

C:\Users\Zikillix>ping 8.8.8.8

Обмен пакетами с 8.8.8.8 по с 32 байтами данных:
Ответ от 8.8.8.8: число байт=32 время=17мс TTL=45
Ответ от 8.8.8.8: число байт=32 время=17мс TTL=45
Ответ от 8.8.8.8: число байт=32 время=17мс TTL=45
Ответ от 8.8.8.8: число байт=32 время=17мс TTL=45

Статистика Ping для 8.8.8.8:
    Пакетов: отправлено = 4, получено = 4, потеряно = 0
    (0% потерь)
Приблизительное время приема-передачи в мс:
    Минимальное = 17мсек, Максимальное = 17 мсек, Среднее = 17 мсек

  
```
#### Местоположение и организация:

|  №    |         Узел            |     Местоположение  |    Организация   | 
| ----- | ------------------------| ------------------- | -----------------|
|  1    |     192.168.0.1         |      Не определен   |    IANA      | 
|  2    |     85.249.60.1         |  Москва, РФ         |PJSC VimpelCom|  
|  3    |     195.14.62.86        |  Москва, РФ         |    NB P2P    |
|  4    |     195.14.62.49        |  Москва, РФ         |    NB P2P    | 
|  5    |     72.14.198.182       |  Southport, США     | Google LLC   | 
|  6    |     108.170.250.51      |  Mountain View, США | Google LLC   | 
|  7    |     216.239.50.44       |  Не определен, UK   | Google LLC   | 
|  8    |     216.239.43.20       |  Emeryville, США    | Google LLC   |
|  9    |     142.250.56.217      |  Mountain View, США | Google LLC   |    
|  10   |     Request timed out.  |                            |             |       
|  11   |     Request timed out.  |                            |             |   
|  12   |     Request timed out.  |                            |             |   
|  13   |     Request timed out.  |                            |             |
|  14   |     Request timed out.  |                            |             |
|  15   |     Request timed out.  |                            |             |       
|  16   |     Request timed out.  |                            |
|  17   |     Request timed out.  |                            |
|  18   |     Request timed out.  |                            |
|  19   |     Request timed out.  |                            |
|  20   |     dns.google [8.8.8.8]|       США, Нью-Йорк        | Google LLC  | 
    

### *2.OpenDNS*
#### Маршрут:
```
C:\Users\Zikillix>tracert 208.67.222.222

Трассировка маршрута к resolver1.opendns.com [208.67.222.222]
с максимальным числом прыжков 30:

  1    <1 мс    <1 мс    <1 мс  dlinkrouter.beeline [192.168.0.1]
  2     2 ms     1 ms     1 ms  85.249.60.1
  3     *        *        *     Превышен интервал ожидания для запроса.
  4    41 ms    40 ms    41 ms  m9-crs-2-be8.corbina.net [195.14.62.86]
  5    41 ms    41 ms    41 ms  noginsk-rs1-fa0-1.corbina.net [78.107.184.86]
  6     *        *        *     Превышен интервал ожидания для запроса.
  7    43 ms    43 ms    43 ms  ae-1-3107.edge6.Amsterdam1.Level3.net [4.69.162.214]
  8    43 ms    43 ms    43 ms  unknown.Level3.net [212.72.47.62]
  9    41 ms    41 ms    41 ms  resolver1.opendns.com [208.67.222.222]
Трассировка завершена.


```
#### Среднее RTT:
```
C:\Users\Zikillix>ping  208.67.222.222

Обмен пакетами с 208.67.222.222 по с 32 байтами данных:
Ответ от 208.67.222.222: число байт=32 время=41мс TTL=54
Ответ от 208.67.222.222: число байт=32 время=42мс TTL=54
Ответ от 208.67.222.222: число байт=32 время=41мс TTL=54
Ответ от 208.67.222.222: число байт=32 время=41мс TTL=54

Статистика Ping для 208.67.222.222:
    Пакетов: отправлено = 4, получено = 4, потеряно = 0
    (0% потерь)
Приблизительное время приема-передачи в мс:
    Минимальное = 41мсек, Максимальное = 42 мсек, Среднее = 41 мсек

```
#### Местоположение и организация:
|  №    |          Узел           |     Местоположение      | Организация  |
| ----- | ----------------------- | ----------------------- | ------------ |
|  1    |      192.168.0.1        |      -       |   -    | 
|  2    |      85.249.60.1        |      Москва, РФ         |   PJSC Vim. |  
|  3    | Превышен интервал ожидания для запроса.  |       |  | 
|  4    |      195.14.62.86       |      Москва, РФ         |    NfB p2p  | 
|  5    |      78.107.184.86      |      Москва, РФ         |    SKPLUS   |
|  6    | Превышен интервал ожидания для запроса.  |       |  | 
|  7    |      4.69.162.214       |      Не определен, США  |    L3P LLC  | 
|  8    |      212.72.47.62       |      Не определен, UK   |    L(3) CI  |
|  9    |      208.67.222.222     |      San Francisco, США |   cisco oDNS| 

### *3.Cloudflare DNS*
#### Маршрут:
```
C:\Users\Zikillix>tracert 1.1.1.1

Трассировка маршрута к one.one.one.one [1.1.1.1]
с максимальным числом прыжков 30:

  1    <1 мс    <1 мс     1 ms  dlinkrouter.beeline [192.168.0.1]
  2     2 ms     1 ms     1 ms  85.249.60.1
  3     *        *        *     Превышен интервал ожидания для запроса.
  4     3 ms     2 ms     2 ms  m9-crs-be8.corbina.net [195.14.54.52]
  5     2 ms     2 ms     2 ms  m9-bb-po5.corbina.net [78.107.184.216]
  6     7 ms     3 ms     3 ms  one.one.one.one [1.1.1.1]

Трассировка завершена.


```
#### Среднее RTT:
```
C:\Users\Zikillix>ping 1.1.1.1

Обмен пакетами с 1.1.1.1 по с 32 байтами данных:
Ответ от 1.1.1.1: число байт=32 время=3мс TTL=250
Ответ от 1.1.1.1: число байт=32 время=3мс TTL=250
Ответ от 1.1.1.1: число байт=32 время=3мс TTL=250
Ответ от 1.1.1.1: число байт=32 время=4мс TTL=250

Статистика Ping для 1.1.1.1:
    Пакетов: отправлено = 4, получено = 4, потеряно = 0
    (0% потерь)
Приблизительное время приема-передачи в мс:
    Минимальное = 3мсек, Максимальное = 4 мсек, Среднее = 3 мсек

    
```
Наибольшая временная задержка у 1го узла

#### Местоположение и организация:
|  №    |        Узел             |     Местоположение      | Организация  |
| ----- | ----------------------- | ----------------------- | ------------ |
|  1    |      192.168.0.1      |      -        |   -    | 
|  2    |      85.249.60.1        |      Москва, РФ         | PJSC Vim.   |  
|  3    | Превышен интервал ожидания для запроса.  |       |  | 
|  4    |      195.14.54.52       |      Москва, РФ         | Corbina Tel.| 
|  5    |      212.188.33.197     |      Москва, РФ         | SKPLUS      | 
|  6    |      1.1.1.1            |   Research, Австралия   |APNIC and Cloudflare DNS Resolver project 	  | 

### *4.Mgts*
#### Маршрут:
```
C:\Users\Zikillix>tracert 195.178.108.240

Трассировка маршрута к 195.178.108.240 с максимальным числом прыжков 30

  1    <1 мс    <1 мс    <1 мс  dlinkrouter.beeline [192.168.0.1]
  2     2 ms     1 ms     1 ms  85.249.60.1
  3     *        *        *     Превышен интервал ожидания для запроса.
  4     3 ms     2 ms     2 ms  m9-crs-2-be8.corbina.net [195.14.62.86]
  5     3 ms     3 ms     3 ms  m9-br2-be5.corbina.net [195.14.62.49]
  6     3 ms     3 ms     3 ms  m9-cr04-be101.msk.mts-internet.net [212.188.12.125]
  7     3 ms     3 ms     3 ms  mag9-cr01-be8.77.msk.mts-internet.net[212.188.54.214]
  8     5 ms     5 ms     5 ms  a197-cr04-be10.77.msk.mts-internet.net [195.34.50.73]
  9     5 ms     5 ms     5 ms  mpts-a197-51.msk.mts-internet.net [212.188.1.106]
 10     *        *        *     Превышен интервал ожидания для запроса.
 11     *        *        *     Превышен интервал ожидания для запроса.
 12     5 ms     5 ms     5 ms  94.29.127.186
 13     5 ms     5 ms     5 ms  94.29.127.185
 14     *        *        *     Превышен интервал ожидания для запроса.
 15     5 ms     5 ms     5 ms  62.112.96.34
 16     *        *        *     Превышен интервал ожидания для запроса.
 17     *        *        *     Превышен интервал ожидания для запроса.
 18     *        *        *     Превышен интервал ожидания для запроса.
 19     *        *        *     Превышен интервал ожидания для запроса.
 20     *        *        *     Превышен интервал ожидания для запроса.
 21     *        *        *     Превышен интервал ожидания для запроса.
 22     *        *        *     Превышен интервал ожидания для запроса.
 23     *        *        *     Превышен интервал ожидания для запроса.
 24     *        *        *     Превышен интервал ожидания для запроса.
 25     *        *        *     Превышен интервал ожидания для запроса.
 26     *        *        *     Превышен интервал ожидания для запроса.
 27     *        *        *     Превышен интервал ожидания для запроса.
 28     *        *        *     Превышен интервал ожидания для запроса.
 29     *        *        *     Превышен интервал ожидания для запроса.
 30     *        *        *     Превышен интервал ожидания для запроса.

Трассировка завершена.

```
#### Среднее RTT:
```
C:\Users\Zikillix>ping 195.178.108.240

Обмен пакетами с 195.178.108.240 по с 32 байтами данных:
Превышен интервал ожидания для запроса.
Превышен интервал ожидания для запроса.
Превышен интервал ожидания для запроса.
Превышен интервал ожидания для запроса.

Статистика Ping для 195.178.108.240:
    Пакетов: отправлено = 4, получено = 0, потеряно = 4
    (100% потерь)
```
#### Местоположение и организация:
|  №    |         Узел            |     Местоположение      | Организация  |
| ----- | ----------------------- | ----------------------- | ------------ |
|  1    |      192.168.0.1      |      -        |   -    | 
|  2    |      	85.249.60.1       |     Москва, РФ          |     PJSC Vim.|  
|  3    |   Request timed out.    |                         |              |
|  4    |      195.14.62.86       |     Москва, РФ          |     NfB P2P  | 
|  5    |      195.14.62.49       |     Москва, РФ          |     NfB P2P  |
|  6    |      212.188.12.125     |     Москва, РФ          | Business Car |
|  7    |      212.188.54.214     |     Москва, РФ          | 	  MTS      |
|  8    |      195.34.50.73       |     Москва, РФ          |     MTS PJSC |
|  9    |      212.188.1.106      |     Москва, РФ          | 	  MTS      |
|  10   |   Request timed out.    |                         |              |
|  11   |   Request timed out.    |                         |              |
|  12   |      94.29.127.186      |     Москва, РФ          |     MGTS     |
|  13   |      94.29.127.185      |     Москва, РФ          |     MGTS     |
|  14   |   Request timed out.    |                         |              |
|  15   |      62.112.96.34       |     Москва, РФ          |  USPD staff  |
|  16   |   Request timed out.    |                         |              |
|  17   |   Request timed out.    |                         |              | 
|  18   |   Request timed out.    |                         |              |
|  19   |   Request timed out.    |                         |              |  
|  20   |   Request timed out.    |                         |              | 
|  21   |   Request timed out.    |                         |              |  
|  22   |   Request timed out.    |                         |              |  
|  23   |   Request timed out.    |                         |              |  
|  24   |   Request timed out.    |                         |              |
|  25   |   Request timed out.    |                         |              |   
|  26   |   Request timed out.    |                         |              |
|  27   |   Request timed out.    |                         |              |  
|  28   |   Request timed out.    |                         |              |  
|  29   |   Request timed out.    |                         |              |  
|  30   |   Request timed out.    |                         |              | 

## *Сравнительная диаграмма*

#### Используемые цвета:

1. Google DNS - красный
2. OpenDNS - зелёный
3. Cloudflare DNS - оранжевый
4. Mgts - голубой

```{r, echo=FALSE}
x <- c(0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200)
y <- c(0,0.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5,15,15.5,16,16.5,17,17.5,18,18.5,19,19.5,20)
x_1 <- c(17,17,17,17)
y_1 <- c(1,2,3,4)
x_2 <- c(41,42,41,41)
y_2 <- c(1,2,3,4)
x_3 <- c(3,3,3,4)
y_3 <- c(1,2,3,4)
x_4 <- c(0,0,0,0)
y_4 <- c(1,2,3,4)

plot(y,x,main = "Сравнительная диаграмма RTT к серверам", xlab = "Step", ylab = "RTT",type = "n")
points(y_1,x_1, col = "red")
lines(y_1,x_1, col = "red")
points(y_2,x_2, col = "green")
lines(y_2,x_2, col = "green")
points(y_3,x_3, col = "orange")
lines(y_3,x_3, col = "orange")
points(y_4,x_4, col = "blue")
lines(y_4,x_4, col = "blue")
```

## *Оценка результатов:*
Меньше всего времени потребовалось для обмена пакетов для Google DNS и Cloudflare DNS.

## *Вывод:*
Мной были проанализированы сетевые параметры публичных DNS серверов. В ходе исследования, было выяснено, что канал домашнего провайдера является загруженным.


